<!DOCTYPE html>
<html lang="pt-Br">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="shortcut icon" href="assets/favicon.png" type="image/x-icon" />
  <title>Links DandinhaLaÃ§os</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <main>
    <div class="profile">
      <img src="assets/profile-img.png" alt="profile-image" />
      <h1>ðŸŒ· DandinhaLaÃ§os ðŸŒ¼</h1>
    </div>    
    <a id="link-instagram" target="blank">
      <div class="Elo7">
        <img src="assets/insta-icon.png" alt="instagram-icon" />
        <p>Perfil do Instagram</p>
      </div>
    </a>
    <a id="link-numero-whatsapp"  target="blank">
      <div class="whatsapp">
        <img src="assets/wpp-icon.png" alt="wpp-icon" />
        <p>Fale comigo no Whatsapp !</span></p>
      </div>
    </a>
    <a id="link-catalogo-whatsapp"  target="blank">
      <div class="whatsapp">
        <img src="assets/wpp-icon.png" alt="wpp-icon" />
        <img src="assets/store-icon.png" alt="store-icon" />
        <p>CatÃ¡logo do Whatsapp !</span></p>
      </div>
    </a>
    <a id="link-facebook"  target="blank">
      <div class="Facebook">
        <img src="assets/fb-icon.png" alt="fb-icon" />
        <p>Perfil do facebook</p>
      </div>
    </a>
  </main>
</body>
</html>

<script>
  // FunÃ§Ã£o para carregar os links do JSON e atualizar o HTML
  async function loadLinks() {
    try {
      // Fazendo fetch no arquivo links.json
      const response = await fetch('content/links.json');
      
      // Verifica se o arquivo foi carregado com sucesso
      if (!response.ok) {
        throw new Error(`Erro ao carregar os links: ${response.status}`);
      }

      // Converte o conteÃºdo do JSON para um objeto JavaScript
      const data = await response.json();

      // Atualizando os links no HTML
      document.getElementById('link-instagram').href = data.links.find(link => link.instagram)?.instagram || '#';
      document.getElementById('link-numero-whatsapp').href = data.links.find(link => link.numeroWhatsapp)?.numeroWhatsapp || '#';
      document.getElementById('link-catalogo-whatsapp').href = data.links.find(link => link.catalogoWhatsapp)?.catalogoWhatsapp || '#';
      document.getElementById('link-facebook').href = data.links.find(link => link.facebook)?.facebook || '#';
    } catch (error) {
      console.error('Erro ao carregar os links:', error);
    }
  }

  // Chama a funÃ§Ã£o para carregar os links assim que o script Ã© executado
  loadLinks();
</script>

<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script>
  if (window.netlifyIdentity) {
    window.netlifyIdentity.on("init", (user) => {
      if (!user) {
        window.netlifyIdentity.on("login", () => {
          document.location.href = "/admin/";
        });
      }
    });
  }
</script>
